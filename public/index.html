<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>QCms Game — RPS • Quiz • Spin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
  <style>
    :root{
      --bg:#0f0f12; --card:#16171c; --muted:#8f95a3; --text:#f1f5ff; --accent:#66e3c4; --danger:#ff6b6b; --ok:#4ade80; --brand:#8ab4ff;
      --ring: 0 0 0 2px rgba(102,227,196,.35), 0 10px 30px -12px rgba(102,227,196,.35);
      --radius:18px;
      --space: clamp(12px, 1.8vw, 22px);
    }

    /* Light mode variables */
    body.light-mode {
      --bg: #ffffff;
      --card: #f8f9fa;
      --muted: #6c757d;
      --text: #1a1a1a;
      --accent: #667eea;
      --danger: #dc3545;
      --ok: #28a745;
      --brand: #007bff;
    }

    *{
      box-sizing:border-box;
    }
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:linear-gradient(180deg,#0e1117,#0a0c10 60%); color:var(--text);
      display:flex; align-items:stretch; justify-content:center;
    }
    body {    
      color: var(--text);
      min-height: 100vh;
      margin: 0;
      background: #000;
      transition: background 0.3s ease;
    }

    body.light-mode {
      background: #f8f9fa;
    }

    /* Keep container background consistent in both themes */
    .container {
      background: var(--bg);
    }

    body::before {
      --size: 45px;
      --line: rgba(255, 255, 255, 0.123); /* faint white for grid lines */
      content: '';
      height: 100vh;
      width: 100%;
      position: fixed;
      background: 
        linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size),
        linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size);
      mask: linear-gradient(-20deg, transparent 50%, white);
      top: 0;
      pointer-events: none;
      z-index: -1;
      transition: opacity 0.3s ease;
    }

    body.light-mode::before {
      --line: rgba(0, 0, 0, 0.08);
      opacity: 0.5;
    }

    .bg-gradient {
      width: 100%;
      min-height: 100%;
      display: flex;
      justify-content: center;
    }

    .container {
      position: relative;
      width: min(1100px, 96vw);
      margin: auto;
      padding: 2px;
      z-index: 1;
      border-radius: 12px; /* optional rounded corners */
      overflow: hidden;
    }

    .container::before {
      content: '';
      position: absolute;
      inset: 0; /* cover full container */
      padding: 2px; /* border thickness */
      border-radius: 12px; /* match container */
      background: linear-gradient(135deg, #2a8cff, #69e4d3, #69e4d3, #69e4d3);
      background-size: 400% 400%; /* for animation movement */
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: destination-out;
              mask-composite: exclude; 
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      pointer-events: none; /* so clicks go through */
      animation: borderMove 3s linear infinite;
      z-index: -1;
    }

    @keyframes borderMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /*icon*/
    /*.fancy-btn {
      position: relative;
      padding: 20px;
      border-radius: 9999px;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(239, 68, 68, 0.2);
      background: linear-gradient(to top right, rgba(0, 0, 0, 0.6), rgba(0,0,0,0.4));
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      transition: all 0.3s ease-out;
      cursor: pointer;
      overflow: hidden;
    }

    .fancy-btn:hover {
      box-shadow: 0 10px 25px rgba(239, 68, 68, 0.3);
      transform: scale(1.1) rotate(2deg);
      border-color: rgba(239, 68, 68, 0.5);
      background: linear-gradient(to top right, rgba(239, 68, 68, 0.1), rgba(0,0,0,0.4));
    }

    .fancy-btn:active {
      transform: scale(0.95) rotate(0deg);
    }

    .fancy-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to right, transparent, rgba(239, 68, 68, 0.2), transparent);
      transform: translateX(-100%);
      transition: transform 0.7s ease-out;
    }

    .fancy-btn:hover::before {
      transform: translateX(100%);
    }

    .icon {
      position: relative;
      z-index: 1;
      width: 28px;
      height: 28px;
      fill: currentColor;
      color: rgb(239, 68, 68);
      transition: color 0.3s ease;
    }

    .fancy-btn:hover .icon {
      color: rgb(248, 113, 113);
    }*/


    .hidden{display:none !important}
    .screen{
      background:var(--card);
      border:1px solid #23262e;
      border-radius:var(--radius);
      padding:clamp(16px,2.2vw,28px);
      box-shadow:0 30px 50px -30px #0007
    }

    .title {
      font-weight: 800;
      font-size: clamp(22px, 4.5vw, 42px);
      letter-spacing: 0.2px;
      margin: 0 0 8px;

      background: linear-gradient(135deg, #2a8cff, #69e4d3, #69e4d3, #69e4d3);
      color: transparent;
      background-clip: text;          
    }

    .subtitle{color:var(--muted); margin:0 0 clamp(12px,2vw,22px); font-size:clamp(14px,1.7vw,18px)}

    /* Buttons */
    .btn{
      appearance:none; border:none; background:#222733; color:var(--text);
      padding:clamp(10px,1.5vw,12px) clamp(12px,2vw,16px);
      border-radius:12px; cursor:pointer;
      transition:transform .12s ease, filter .2s ease, background .2s ease;
      font-weight:700; font-size:clamp(14px,1.6vw,16px)
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.primary{background:linear-gradient(135deg,#2a8cff,#69e4d3); color:#081018}
    .btn.ghost{background:transparent; border:1px solid #2a2f3c}
    .btn.warn{background:#2b1f24; color:#ffb4b4; border:1px solid #5a2d36}
    .btn.ok{background:#1c2b24; color:#b4ffd7; border:1px solid #2d5a48}

    /* Responsive grid helpers */
    .grid{display:grid; gap:var(--space)}
    .two{grid-template-columns:repeat(2,1fr)}
    .three{grid-template-columns:repeat(3,1fr)}
    @media (max-width: 800px){
      .two{grid-template-columns:1fr}
      .three{grid-template-columns:1fr}
    }

    /* Cards */
    .card{background:#11141b; border:1px solid #222736; border-radius:16px; padding:clamp(12px,2vw,18px)}
    .rule{display:flex; gap:12px; align-items:flex-start}
    .rule .dot{width:10px; height:10px; border-radius:50%; background:var(--brand); box-shadow:0 0 0 4px rgba(138,180,255,.12)}
    .rule p{margin:0; line-height:1.45; font-size:clamp(13px,1.6vw,16px)}

    /* Topbar */
    .topbar{
      display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:14px; flex-wrap:wrap
    }
    .group-input{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .group-input label{font-size:clamp(13px,1.6vw,15px)}
    .group-input input{
      width:clamp(110px,18vw,160px); padding:10px 12px; border-radius:10px;
      border:1px solid #2a2f3c; background:#0d0f14; color:var(--text); font-size:16px
    }

    /* Scorebar pills wrap on small screens */
    .scorebar{display:flex; gap:10px; flex-wrap:wrap}
    .pill{
      background:#0e1220; border:1px solid #1f2432; padding:8px 10px; border-radius:999px; font-weight:700;
      font-size:clamp(12px,1.6vw,14px)
    }
    .pill .tag{font-weight:800; margin-right:6px; color:#99a6ff}

    /* Question area */
    .question-box{
      background:#0d0f14; border:1px solid #242938; border-radius:16px; padding:clamp(14px,2.4vw,20px); margin-top:10px
    }
    .question-title{font-size:clamp(18px,2.4vw,22px); font-weight:800; margin:0 0 10px}
    .choices{
      display:grid; gap:10px; margin-top:14px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    @media (max-width: 700px){
      .choices{grid-template-columns:1fr}
    }
    .choice{
      display:flex; gap:12px; align-items:center; background:#0b0e15; border:1px solid #1f2330;
      padding:clamp(12px,2vw,14px); border-radius:12px; cursor:pointer; min-height:48px
    }
    .choice .label{
      font-weight:800; width:22px; height:22px; display:grid; place-items:center; border-radius:6px; background:#1c2233; color:#bcd1ff; flex:0 0 22px
    }
    .choice.correct{background:#0f1a13; border-color:#204a38}
    .choice.correct .label{background:#214c3a; color:#b4ffd7}
    .choice.wrong{background:#1a1212; border-color:#512626}
    .choice.wrong .label{background:#3a2121; color:#ffc9c9}

    .nav{display:flex; gap:10px; justify-content:space-between; margin-top:16px; flex-wrap:wrap}
    .nav .btn{min-width:110px}

    /* Results (sticky head + horizontal scroll on small) */
    .table-wrap{
      overflow:auto; border:1px solid #232839; border-radius:12px
    }
    table{border-collapse:collapse; width:100%; min-width:820px; background:#0b0e14}
    th,td{border:1px solid #1b2030; padding:8px 10px; text-align:center; font-size:clamp(12px,1.6vw,14px)}
    thead th{position:sticky; top:0; background:#0f1420}
    .totals{font-weight:800; background:#0f1420}

    /* Spin wheel — scales with viewport */
    #wheel{
      width:clamp(180px, 38vw, 260px);
      height:clamp(180px, 38vw, 260px);
      border:5px solid #000; border-radius:50%; margin:8px auto 14px;
      display:flex; justify-content:center; align-items:center;
      font-size:clamp(18px, 3.2vw, 24px);
      transition:transform 3s cubic-bezier(0.33, 1, 0.68, 1); background:#fff; color:#000
    }
    #spinBtn{margin-top:6px; padding:12px 22px; font-size:16px; cursor:pointer; background:#000; color:#fff; border:none; border-radius:10px}
    #spinResult{margin-top:10px; font-size:clamp(16px, 2.2vw, 22px); text-align:center}

    .note{color:var(--muted); font-size:clamp(12px,1.6vw,14px)}
    .shield{display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border-radius:999px; background:#1b2836; border:1px solid #254661; font-size:clamp(11px,1.4vw,12px)}

    /* Stacking adjustments on very small screens */
    @media (max-width: 520px){
      .nav{flex-direction:column; align-items:stretch}
      .nav > div{display:flex; gap:8px}
      .nav .btn{flex:1}
      .topbar{flex-direction:column; align-items:stretch}
      .group-input{justify-content:space-between}
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto !important}
      #wheel{transition:none}
    }

    /* Confetti and Particles */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #FFD700;
      animation: confetti-fall 3s linear forwards;
      z-index: 1000;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #69e4d3;
      border-radius: 50%;
      animation: particle-float 6s ease-in-out infinite;
      z-index: 1000;
    }

    @keyframes particle-float {
      0%, 100% {
        transform: translateY(0px) translateX(0px);
        opacity: 0;
      }
      25% {
        opacity: 1;
      }
      50% {
        transform: translateY(-20px) translateX(10px);
        opacity: 0.8;
      }
      75% {
        opacity: 0.5;
      }
    }

    /* Winner screen specific styles */
    .result-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      margin: 10px 0;
      background: rgba(102, 227, 196, 0.1);
      border: 1px solid rgba(102, 227, 196, 0.3);
      border-radius: 12px;
      color: #f1f5ff;
    }

    .result-row.winner {
      background: rgba(255, 215, 0, 0.15);
      border-color: rgba(255, 215, 0, 0.4);
    }

    .group-name {
      font-weight: 700;
      font-size: 18px;
    }

    .group-score {
      font-weight: 800;
      font-size: 20px;
      color: #69e4d3;
    }

    .group-rank, .rank {
      font-weight: 700;
      font-size: 16px;
      color: #FFD700;
    }
    /* From Uiverse.io by vinodjangid07 */ 
    .loader {
      width: fit-content;
      height: fit-content;
      display: none;
      right: 0;
      position: fixed;
      bottom: 0;
      align-items: center;
      justify-content: center;
    }

    .truckWrapper {
      width: 200px;
      height: 100px;
      display: flex;
      flex-direction: column;
      position: relative;
      align-items: center;
      justify-content: flex-end;
      overflow-x: hidden;
    }
    /* truck upper body */
    .truckBody {
      width: 130px;
      height: fit-content;
      margin-bottom: 6px;
      animation: motion 1s linear infinite;
    }
    /* truck suspension animation*/
    @keyframes motion {
      0% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(3px);
      }
      100% {
        transform: translateY(0px);
      }
    }
    /* truck's tires */
    .truckTires {
      width: 130px;
      height: fit-content;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0px 10px 0px 15px;
      position: absolute;
      bottom: 0;
    }
    .truckTires svg {
      width: 24px;
    }

    .road {
      width: 100%;
      height: 1.5px;
      background-color: #282828;
      position: relative;
      bottom: 0;
      align-self: flex-end;
      border-radius: 3px;
    }
    .road::before {
      content: "";
      position: absolute;
      width: 20px;
      height: 100%;
      background-color: #282828;
      right: -50%;
      border-radius: 3px;
      animation: roadAnimation 1.4s linear infinite;
      border-left: 10px solid white;
    }
    .road::after {
      content: "";
      position: absolute;
      width: 10px;
      height: 100%;
      background-color: #282828;
      right: -65%;
      border-radius: 3px;
      animation: roadAnimation 1.4s linear infinite;
      border-left: 4px solid white;
    }

    .lampPost {
      position: absolute;
      bottom: 0;
      right: -90%;
      height: 90px;
      animation: roadAnimation 1.4s linear infinite;
    }

    @keyframes roadAnimation {
      0% {
        transform: translateX(0px);
      }
      100% {
        transform: translateX(-350px);
      }
    }
    footer {
      position: fixed;
      bottom: 1em;
      right: 1em;
    }
    /* Modern Header Styles */
    header {
      position: fixed;
      top: 0;
      left: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      background: rgba(15, 15, 18, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      z-index: 9999;
      padding: 1rem 2rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Light mode styles */
    body.light-mode header {
      background: rgba(255, 255, 255, 0.95);
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .profile-section {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    #usernameDisplay {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text);
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    body.light-mode #usernameDisplay {
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
      color: #1a1a1a;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .header-controls {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .control-btn {
      position: relative;
      width: 44px;
      height: 44px;
      border: none;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    body.light-mode .control-btn {
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .control-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    body.light-mode .control-btn:hover {
      background: rgba(0, 0, 0, 0.1);
    }

    .control-btn svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
      transition: all 0.3s ease;
    }

    .control-btn:hover svg {
      transform: scale(1.1);
    }

    /* Theme toggle button */
    .theme-toggle {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .theme-toggle:hover {
      background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
    }

    /* Music dropdown */
    .music-dropdown {
      position: relative;
    }

    .music-menu {
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      background: rgba(15, 15, 18, 0.98);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 0.5rem;
      min-width: 180px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    body.light-mode .music-menu {
      background: rgba(255, 255, 255, 0.98);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }

    .music-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .music-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: var(--text);
    }

    body.light-mode .music-option {
      color: #1a1a1a;
    }

    .music-option:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    body.light-mode .music-option:hover {
      background: rgba(0, 0, 0, 0.1);
    }

    .music-option.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .music-option svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    /* Reset button - only visible to admin */
    .reset-btn {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
      color: white;
    }

    .reset-btn:hover {
      background: linear-gradient(135deg, #ff5252 0%, #e53935 100%);
    }

    .reset-btn.hidden {
      display: none;
    }

    /* Counting number styling */
    .countingNumber {
      color: var(--text);
      position: absolute;
      z-index: 12000;
      bottom: 0;
      left: 1rem;
      background: rgba(255, 255, 255, 0.1);
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 500;
    }

    body.light-mode .countingNumber {
      background: rgba(0, 0, 0, 0.1);
      color: #1a1a1a;
    }

    /* Smooth transitions for theme switching */
    body, header, .control-btn, #usernameDisplay, .countingNumber {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Enhanced hover effects */
    .control-btn:active {
      transform: translateY(0);
      transition: transform 0.1s ease;
    }

    /* Music menu arrow indicator */
    .music-dropdown::after {
      content: '';
      position: absolute;
      top: 100%;
      right: 12px;
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid rgba(15, 15, 18, 0.98);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    body.light-mode .music-dropdown::after {
      border-bottom-color: rgba(255, 255, 255, 0.98);
    }

    .music-menu.show + .music-dropdown::after {
      opacity: 1;
      visibility: visible;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      header {
        padding: 0.75rem 1rem;
      }
      
      .header-left, .header-right {
        gap: 0.75rem;
      }
      

      
      .control-btn {
        width: 40px;
        height: 40px;
      }
      
      .control-btn svg {
        width: 18px;
        height: 18px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <div class="profile-section">
        <span id="usernameDisplay">Username</span>
      </div>
    </div>
  </header>
  <div class="bg-gradient">
  <div class="container">
  <!-- SCREEN: INSTRUCTIONS -->
  <section id="screen-instructions" class="screen">
    <div class="loader">
      <div class="truckWrapper">
        <div class="truckBody">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 198 93"
            class="trucksvg"
          >
            <path
              stroke-width="3"
              stroke="#282828"
              fill="#F83D3D"
              d="M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z"
            ></path>
            <path
              stroke-width="3"
              stroke="#282828"
              fill="#7D7C7C"
              d="M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z"
            ></path>
            <path
              stroke-width="2"
              stroke="#282828"
              fill="#282828"
              d="M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z"
            ></path>
            <rect
              stroke-width="2"
              stroke="#282828"
              fill="#FFFCAB"
              rx="1"
              height="7"
              width="5"
              y="63"
              x="187"
            ></rect>
            <rect
              stroke-width="2"
              stroke="#282828"
              fill="#282828"
              rx="1"
              height="11"
              width="4"
              y="81"
              x="193"
            ></rect>
            <rect
              stroke-width="3"
              stroke="#282828"
              fill="#DFDFDF"
              rx="2.5"
              height="90"
              width="121"
              y="1.5"
              x="6.5"
            ></rect>
            <rect
              stroke-width="2"
              stroke="#282828"
              fill="#DFDFDF"
              rx="2"
              height="4"
              width="6"
              y="84"
              x="1"
            ></rect>
          </svg>
        </div>
        <div class="truckTires">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 30 30"
            class="tiresvg"
          >
            <circle
              stroke-width="3"
              stroke="#282828"
              fill="#282828"
              r="13.5"
              cy="15"
              cx="15"
            ></circle>
            <circle fill="#DFDFDF" r="7" cy="15" cx="15"></circle>
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 30 30"
            class="tiresvg"
          >
            <circle
              stroke-width="3"
              stroke="#282828"
              fill="#282828"
              r="13.5"
              cy="15"
              cx="15"
            ></circle>
            <circle fill="#DFDFDF" r="7" cy="15" cx="15"></circle>
          </svg>
        </div>
        <div class="road"></div>

        <svg
          xml:space="preserve"
          viewBox="0 0 453.459 453.459"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns="http://www.w3.org/2000/svg"
          id="Capa_1"
          version="1.1"
          fill="#000000"
          class="lampPost"
        >
          <path
            d="M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993
    c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514
    c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16
    c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914
    h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75
    v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795
    V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z
    M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017
    h78.747C231.693,100.736,232.77,106.162,232.77,111.694z"
          ></path>
        </svg>
      </div>
    </div>
    <h1 class="title">Quiz Quest</h1>
    <p class="subtitle">Pick your team members (max <b>5</b> per group), face off in <b>Rock-Paper-Scissors</b>, answer correctly to earn points, and every 5th win gets a <b>spin</b>! 🍀</p>

    <div class="grid two">
      <div class="card">
        <h3 style="margin:0 0 10px">How to play</h3>
        <div class="rule"><span class="dot"></span><p>You can choose your own members, but each group can have a <b>maximum of 5 members</b>.</p></div>
        <div class="rule"><span class="dot"></span><p>Each group must send one member to <b>Rock-Paper-Scissors</b>. The winner chooses the option first. <em>Wrong pick = no more RPS for the same question.</em></p></div>
        <div class="rule"><span class="dot"></span><p><b>Scoring:</b> Correct <b>+1</b>, Wrong <b>-1</b>. Group with the <b>most score</b> gets the snack.</p></div>
        <div class="rule"><span class="dot"></span><p><b>Milestone Spins:</b> The winner who wins the <b>5th, 10th, 15th, 20th, 25th, 30th</b> round gets to spin the wheel.</p></div>
      </div>
      <div class="card">
        <h3 style="margin:0 0 10px">Wheel Effects</h3>
        <div class="rule"><span class="dot" style="background:#111"></span><p><b>Bomb</b> → Choose a target group; their score drops to <b>0</b>.</p></div>
        <div class="rule"><span class="dot" style="background:#3a6"></span><p><b>Aura</b> → +2 points.</p></div>
        <div class="rule"><span class="dot" style="background:#59f"></span><p><b>Swap</b> → Swap your score with another group.</p></div>
        <div class="rule"><span class="dot" style="background:#333"></span><p><b>Quit</b> → You still play, but become <b>ineligible for the snack</b>.</p></div>
        <div class="rule"><span class="dot" style="background:#a33"></span><p><b>Minus</b> → -2 points.</p></div>
        <div class="rule"><span class="dot" style="background:#1b8"></span><p><b>Shield</b> → Protects you from the <b>next Bomb/Minus</b> (consumed when used).</p></div>
      </div>
    </div>

    <div style="display:flex; gap:12px; margin-top:18px; flex-wrap:wrap">
      <button id="btnStart" class="btn primary">Continue to Game</button>
      <button id="btnPeekResultsFromIntro" class="btn ghost">Open Result(...)</button>
    </div>
  </section>

  <!-- SCREEN: GAME -->
  <section id="screen-game" class="screen hidden">
    <div class="topbar">
      <div class="group-input">
        <label for="turnInput">Current turn → Group #</label>
        <input id="turnInput" type="number" min="1" max="6" placeholder="1..6" inputmode="numeric" />
        <button class="btn" id="btnSetTurn">Set</button>
      </div>
      <div class="scorebar" id="scorebar"></div>
    </div>

    <div class="question-box">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap">
        <div>
          <div class="pill"><span class="tag">Q</span><span id="qCounter">1 / 32</span></div>
          <h2 class="question-title" id="qText" style="margin: 8px;">Loading…</h2>
        </div>
        <div>
          <span class="shield" id="shieldInfo">No shields active</span>
        </div>
      </div>

      <div class="choices" id="choices"></div>

      <div class="nav">
        <div style="display:flex; gap:8px; flex-wrap:wrap">
          <button class="btn ghost" id="btnPrev">◀ Prev</button>
          <button class="btn ghost" id="btnNext">Next ▶</button>
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap">
          <button class="btn" id="btnResults">Results</button>
        </div>
      </div>
    </div>
  </section>

  <!-- SCREEN: RESULTS -->
  <section id="screen-results" class="screen hidden">
    <div class="topbar">
      <h2 class="title" style="font-size:clamp(20px,3.2vw,28px)">Live Results</h2>
      <div style="display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn ghost" id="btnBackToGame">Return</button>
      </div>
    </div>
    <div class="table-wrap">
      <table id="resultTable"></table>
    </div>
    <p class="note" id="resultNote" style="margin-top:8px"></p>
  </section>

  <!-- SCREEN: SPIN -->
  <section id="screen-spin" class="screen hidden">
    <h2 class="title" style="font-size:clamp(22px,3.2vw,28px)">Milestone Spin</h2>
    <p class="subtitle" id="spinSubtitle">Winner Group <b id="spinnerGroupLabel">?</b> spins the wheel!</p>

    <div id="wheel">?</div>
    <div id="spinResult"></div>

    <div style="margin-top:14px; display:flex; gap:16px; justify-content:space-between; flex-wrap:wrap">
      <button id="spinBtn" class="btn primary" style="flex:1;">Spin</button>
      <button class="btn ghost" id="btnSpinBack" style="flex:1;">Return to Game</button>
    </div>
  </section>

  <!-- SCREEN: WINNER -->
  <section id="screen-winner" class="screen hidden">
    <div id="confettiContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;"></div>
    <div id="particlesContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;"></div>
    
    <div class="trophy-wrapper" style="text-align: center; margin-bottom: 30px;">
      <div style="font-size: 80px; margin-bottom: 20px;">🏆</div>
      <h1 class="winner-title" style="font-size: clamp(28px, 5vw, 48px); margin: 0; color: #FFD700;">Congratulations!</h1>
    </div>
    
    <div class="winner-group" style="text-align: center; margin-bottom: 40px;">
      <h2 style="font-size: clamp(24px, 4vw, 36px); margin: 0 0 10px; color: #69e4d3;">Winner: Group <span id="winnerGroupNumber">?</span></h2>
      <p style="font-size: clamp(18px, 3vw, 24px); margin: 0; color: #8ab4ff;">Final Score: <span id="winnerScore">?</span> points</p>
    </div>
    
    <div class="final-results" style="margin-bottom: 40px;">
      <h3 style="text-align: center; margin: 0 0 20px; color: #f1f5ff;">Final Results</h3>
      <div id="finalResultsTable" style="max-width: 400px; margin: 0 auto;">
        <!-- Winner results will be populated here -->
      </div>
    </div>
    
    <div class="winner-actions" style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
      <button id="btnNewGame" class="btn primary" style="min-width: 140px;">New Game</button>
      <button id="btnViewResults" class="btn ghost" style="min-width: 140px;">View Results</button>
      <button id="btnBackToIntro" class="btn ghost" style="min-width: 140px; display: none">Back to Instructions</button>
    </div>
  </section>

  <!-- RPS MODAL (lightweight) -->
  <dialog id="rpsModal" style="border:none; border-radius:16px; padding:0; background:#0f121a; color:var(--text); width:min(520px,94vw)">
    <div style="padding:18px 18px 6px; border-bottom:1px solid #22283a; display:flex; align-items:center; justify-content:space-between">
      <strong>Rock-Paper-Scissors</strong>
      <button class="btn ghost" onclick="document.getElementById('rpsModal').close()">✕</button>
    </div>
    <div style="padding:16px; display:grid; gap:12px">
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap">
        <label>Group A</label><input id="rpsA" type="number" min="1" max="6" placeholder="1..6" style="width:120px; padding:10px; border-radius:10px; border:1px solid #2a2f3c; background:#0d0f14; color:var(--text)">
        <label>Group B</label><input id="rpsB" type="number" min="1" max="6" placeholder="1..6" style="width:120px; padding:10px; border-radius:10px; border:1px solid #2a2f3c; background:#0d0f14; color:var(--text)">
      </div>
      <div style="display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn" id="btnRpsWinA">A Wins</button>
        <button class="btn" id="btnRpsWinB">B Wins</button>
      </div>
      <p class="note">RPS is just a helper here to decide who picks first; wrong pick means no more RPS for this question.</p>
    </div>
  </dialog>
</div>
</div>
<p class="countingNumber" style="display:none;">
  NumberofPeople: <span class="amount"></span>
</p>

<!-- <footer> 
  <button class="fancy-btn">
    <svg
      class="icon"
      viewBox="0 0 576 512"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"
      ></path>
    </svg>
  </button>
</footer> -->
<!-- <script src="/socket.io/socket.io.js"></script> -->
 <script src="https://cdn.socket.io/4.7.2/socket.io.min.js" integrity="sha384-..." crossorigin="anonymous"></script>
<script src="touching.js"></script>
<script src="song.js"></script>
<script src="client.js"></script>
</body>
</html>
